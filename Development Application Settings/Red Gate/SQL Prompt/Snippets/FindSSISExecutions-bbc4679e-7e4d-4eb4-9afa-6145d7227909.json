{
  "id": "bbc4679e-7e4d-4eb4-9afa-6145d7227909",
  "prefix": "FindSSISExecutions",
  "description": "KM: Query to find SQL Server Integration Services (SSIS) executions and event messages.",
  "body": "SELECT TOP (100)\r\n    [Operation ID]            = execution_id\r\n   ,Folder                    = folder_name\r\n   ,Project                   = project_name\r\n   ,Package                   = package_name\r\n   ,Environment               = environment_name\r\n   ,Status                    = CASE status\r\n                                    WHEN 1\r\n                                        THEN 'Created'\r\n                                    WHEN 2\r\n                                        THEN 'Running'\r\n                                    WHEN 3\r\n                                        THEN 'Canceled'\r\n                                    WHEN 4\r\n                                        THEN 'Failed'\r\n                                    WHEN 5\r\n                                        THEN 'Pending'\r\n                                    WHEN 6\r\n                                        THEN 'Ended Unexpectedly'\r\n                                    WHEN 7\r\n                                        THEN 'Succeeded'\r\n                                    WHEN 8\r\n                                        THEN 'Stopping'\r\n                                    WHEN 9\r\n                                        THEN 'Completed'\r\n                                    ELSE 'Unknown'\r\n                                END\r\n   ,[Duration (hh:mm:ss.ms)] = CONVERT(varchar(12), DATEADD(MILLISECOND, DATEDIFF(MILLISECOND, start_time, end_time), 0), 114)\r\n   ,[Start Time]              = start_time\r\n   ,[End Time]                = end_time\r\n   ,Caller                    = caller_name\r\n   ,[Executed As]             = executed_as_name\r\n   ,[Stopped By]              = stopped_by_name\r\n   ,Server                    = server_name\r\n   ,Machine                   = machine_name\r\nFROM\r\n    catalog.executions\r\n--WHERE\r\n--    package_name = N''\r\n--    execution_id = -1\r\nORDER BY\r\n    start_time DESC;\r\nGO\r\n\r\nSELECT\r\n    [Operation ID]   = operation_id\r\n   ,Time             = message_time\r\n   ,Message          = message\r\n   ,Package          = package_name\r\n   ,Event            = event_name\r\n   ,[Message Source] = message_source_name\r\n   ,Subcomponent     = subcomponent_name\r\n   ,[Package Path]   = package_path\r\n   ,[Execution Path] = execution_path\r\nFROM\r\n    catalog.event_messages\r\nWHERE\r\n    operation_id = -1;\r\nGO"
}