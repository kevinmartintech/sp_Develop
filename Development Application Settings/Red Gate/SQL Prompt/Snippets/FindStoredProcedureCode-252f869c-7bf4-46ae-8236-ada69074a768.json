{
  "id": "252f869c-7bf4-46ae-8236-ada69074a768",
  "prefix": "FindStoredProcedureCode",
  "description": "KM: Use this script to enter a list of stored procedure names so it will output the code.",
  "body": "SELECT\r\n    [processing-instruction(output)] = CAST(N'/* Click here to view the stored procedure code.\r\nCopy just the T-SQL below this block comment into a new query window to execute. */\r\n\r\n' AS nvarchar(MAX)) + (\r\n        SELECT\r\n            m.definition + \r\n            CAST(N'GO' AS nvarchar(MAX)) + CHAR(13) + CHAR(10)\r\n        FROM\r\n            sys.objects      AS o\r\n        JOIN sys.schemas     AS s ON o.schema_id = s.schema_id\r\n        JOIN sys.sql_modules AS m ON o.object_id = m.object_id\r\n        WHERE\r\n            o.type = 'P'\r\n        AND (s.name + '.' + o.name) IN (\r\n        \r\n        /**********************************************************************************************************************\r\n        ** Add your stored procedure list here.\r\n        **********************************************************************************************************************/\r\n         'dbo.[STORED-PROCEDURE-NAME-1]'\r\n        ,'dbo.[STORED-PROCEDURE-NAME-2]'\r\n        /*********************************************************************************************************************/\r\n        \r\n        )\r\n        FOR XML PATH(''), TYPE\r\n    ).value('.', 'NVARCHAR(MAX)') + N'\r\n\r\n/* Copy just the T-SQL above this block comment into a new query window to execute. */'\r\nFOR XML PATH('');"
}