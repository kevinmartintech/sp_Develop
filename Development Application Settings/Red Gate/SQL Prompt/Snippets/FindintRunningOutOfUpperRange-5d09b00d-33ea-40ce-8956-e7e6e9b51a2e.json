{
  "id": "5d09b00d-33ea-40ce-8956-e7e6e9b51a2e",
  "prefix": "FindintRunningOutOfUpperRange",
  "description": "KM: Find int Data Types Running Out of Upper Range",
  "body": "DECLARE @StringToExecute nvarchar(MAX) = (\r\n            SELECT\r\n                STUFF((\r\n                          SELECT\r\n                              'UNION ALL\r\nSELECT \r\n    ''' +                     S.name + ''' AS TableSchema\r\n    ,''' +                    T.name + ''' AS TableName\r\n    ,''' +                    C.name + ''' AS ColumnName\r\n    ,ISNULL(CAST(MAX(' +             QUOTENAME(C.name) + ') AS NVARCHAR(MAX)), 0) AS MaxValue\r\nFROM\r\n    ' +                       QUOTENAME(S.name) + '.' + QUOTENAME(T.name) + ' WITH (NOLOCK)\r\nWHERE\r\n    ' +                       QUOTENAME(C.name) + ' IS NOT NULL\r\n'\r\n                          FROM\r\n                              sys.columns        AS C\r\n                          INNER JOIN sys.tables  AS T ON C.object_id = T.object_id\r\n                          INNER JOIN sys.schemas AS S ON T.schema_id = S.schema_id\r\n                          WHERE\r\n                              C.system_type_id = 56\r\n                          FOR XML PATH(''), TYPE\r\n                      ).value('.', 'nvarchar(max)')\r\n                   ,1\r\n                   ,10\r\n                   ,''\r\n                )\r\n        );\r\n\r\nSELECT\r\n    [processing-instruction(output)] = CAST(N'/* Click here to view the generated code. */\r\n\r\n' AS nvarchar(MAX))                    + @StringToExecute + N'\r\n\r\n/* Copy just the T-SQL above this block comment into a new query window to execute. */\r\n'\r\nFOR XML PATH('');\r\n\r\n/* EXEC(@StringToExecute); */"
}