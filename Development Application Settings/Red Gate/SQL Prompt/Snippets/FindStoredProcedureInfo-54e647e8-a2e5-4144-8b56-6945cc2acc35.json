{
  "id": "54e647e8-a2e5-4144-8b56-6945cc2acc35",
  "prefix": "FindStoredProcedureInfo",
  "description": "KM: Returns information about stored procedures",
  "body": "SELECT\r\n    SchemaName                                      = s.name\r\n   ,StoredProcedureName                             = p.name\r\n   ,p.create_date\r\n   ,p.modify_date\r\n   ,m.definition\r\n   ,[uses_ansi_nulls - should be 1]                 = m.uses_ansi_nulls\r\n   ,[uses_quoted_identifier - should be 1]          = m.uses_quoted_identifier\r\n   ,m.is_schema_bound\r\n   ,m.uses_database_collation\r\n   ,m.is_recompiled\r\n   ,m.null_on_null_input\r\n   ,m.uses_native_compilation\r\n   ,inline_type                                     = CASE WHEN CAST(SERVERPROPERTY('ProductMajorVersion') AS int) >= 15\r\n                                                               THEN CAST(m.inline_type AS nvarchar(50))\r\n                                                          ELSE 'N/A'\r\n                                                      END\r\n\r\n   ,is_inlineable                                   = CASE WHEN CAST(SERVERPROPERTY('ProductMajorVersion') AS int) >= 15\r\n                                                               THEN CAST(m.is_inlineable AS nvarchar(50))\r\n                                                          ELSE 'N/A'\r\n                                                      END\r\n   ,[execute_as_principal_id - NULL EXEC AS CALLER] = m.execute_as_principal_id\r\nFROM\r\n    sys.procedures        AS p\r\nINNER JOIN sys.schemas    AS s ON p.schema_id = s.schema_id\r\nINNER JOIN sys.objects    AS o ON p.object_id = o.object_id\r\nLEFT JOIN sys.sql_modules AS m ON p.object_id = m.object_id\r\nWHERE\r\n    p.is_ms_shipped = 0\r\nORDER BY\r\n    s.name\r\n   ,p.name;\r\nGO"
}